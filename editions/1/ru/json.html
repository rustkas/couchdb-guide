<title>JSON Primer</title>

<meta charset="utf-8">

<link rel="stylesheet" href="../../../style.css">

<link rel="prev" href="source.html">

<link rel="next" href="btree.html">

<script src="../../../script.js"></script>

<h2 id="json">JSON Primer</h2>

<p>CouchDB использует <em>JavaScript Object Notation</em> (JSON) для хранения данных. Это облегченный формат, основанный на подмножестве синтаксиса JavaScipt. Одним из лучших моментов в JSON является то, что его легко читать и писать вручную, гораздо больше, чем что-то вроде XML. Мы можем проанализировать его с помощью JavaScript, потому что он разделяет часть того же синтаксиса. Это действительно удобно, когда мы создаем динамические веб-приложения и хотим получить некоторые данные от сервера.
<p>Вот пример документа JSON:

<pre>
{
    "Subject": "I like Plankton",
    "Author": "Rusty",
    "PostedDate": "2006-08-15T17:30:12-04:00",
    "Tags": [
        "plankton",
        "baseball",
        "decisions"
    ],
    "Body": "I decided today that I don't like baseball. I like plankton."
}
</pre>

<p>Вы можете видеть, что общая структура основана на парах ключ / значение и списках.

<h3 id="types">Типы данных</h3>

<p>JSON имеет несколько основных типов данных, которые вы можете использовать. Мы здесь подробнее расскажем обо всех.
<h4 id="numbers">Числа</h4>

<p>Вы можете использовать положительные целые числа: <code>"Count": 253</code>

<p>Или отрицательные целые числа: <code>"Score": -19</code>

<p>Числа с с плавающей запятой: <code>"Area": 456.31</code>

<div class="aside warning">

<p>Существует небольшая, но важная разница между числами с плавающей запятой и десятичными числами. Когда вы используете число, например <code>15.7</code>, это будет интерпретироваться большинством клиентов как <code>15.699999999999999</code>, что может быть проблематично для вашего приложения. По этой причине значения валют обычно лучше представлены в виде строк в JSON. Строка типа <code>"15.7"</code> будет интерпретироваться как <code>"15.7"</code> каждым клиентом JSON.
</div>

<p>Или формат чисел для научных расчётов: <code>"Density": 5.6e+24</code>

<h4 id="strings">Строки</h4>

<p>Вы можите использовать строки для значений:

<pre>
"Author": "Rusty"
</pre>

<p>Вы должны экранировать некоторые специальные символы, такие как символы табуляции или перевода строки:

<pre>
"poem": "May I compare thee to some\n\tsalty plankton."
</pre>

<p>На сайте <a href="http://www.json.org">JSON</a> есть подробная информация по работе со строками и экранирование строк.

<h4 id="booleans">Логический тип данных</h4>

<p>Вы можите использовать логическое значения, например true:

<pre>
"Draft": true
</pre>

<p>Или false:

<pre>
"Draft": false
</pre>

<h4 id="arrays">Массивы</h4>

<p>Массив - это список значений:

<pre>
"Tags": ["plankton", "baseball", "decisions"]
</pre>

<p>Массив может содержать любой другой тип данных, включая массивы:

<pre>
"Context": ["dog", [1, true], {"Location": "puddle"}]
</pre>

<h4 id="objects">Объекты</h4>

<p>Объект представляет собой список пар ключ / значение:

<pre>
{"Subject": "I like Plankton", "Author": "Rusty"}
</pre>

<h4 id="nulls">Nulls</h4>

<p>Также вы можите использовать значения типа null:

<pre>
"Surname": null
</pre>
